{% extends "layout.html" %} {% block content %} {% block js_css %}
<style type="text/css">
    #borde{
        padding: 5px 5px;
        border-radius: 30px;
        border: 2px solid #6C757D;
    }
    .progress-bar{
        position: relative;
        width: 747px;
        height: 3em;
        background: rgb(63,94,251);
        background: radial-gradient(circle, rgba(63,94,251,1) 0%, rgba(252,70,77,1) 100%);
        border-radius: 1.5em;
        color: white;
    }
    .progress-bar::before{
        content: attr(data-label);
        display: flex;
        align-items: center;
        position: absolute;
        left: .5em;
        top: .5em;
        bottom: .5em;
        width: calc(var(--width, 0) * 1%);
        min-width: 2rem;
        max-width: calc(100% - 1em);
        background-color: #6C757D;
        border-radius: 1em;
        padding: 1em;
    }
</style>
{% endblock %}

<div style="height:50px"></div>
<!--sample-->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <div class="row">
                <div class="col-md-2">
                </div>
                <div class="col-md-8" id="borde">
                    <div class="progress-bar" style="--width: 10" data-label="Loading..."></div>
                </div>
                <div class="col-md-2">
                </div>
            </div> <!--row-->
            <br>
            <hr>
            <form action="" novalidate method='POST' id='formbusqueda' name='formbusqueda'>
                <br>
                <div class="row">
                    <div class="col-md-4">
                    </div>
                    {% if puede_consultar %}
                        <div class="col-md-4">
                            <button type="submit" class="btn btn-outline-success btn-lg btn-block">{{ titulo }}</button>
                        </div>
                    {% endif %}
                    <div class="col-md-4">
                    </div>
                </div> <!--row-->
            </form>
            <hr>
        </div>
    </div>
</div>
<script type="text/javascript">
    $('.btn').click(function(){
        const progressBar = document.getElementsByClassName('progress-bar')[0];
        setInterval(() => {
            const computedStyle = getComputedStyle(progressBar)
            const width = parseFloat(computedStyle.getPropertyValue('--width')) || 0
            progressBar.style.setProperty('--width', width + .1);
        }, 20)
    });
</script>
{% endblock %}
